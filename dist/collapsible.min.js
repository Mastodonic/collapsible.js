!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jump.js"),require("lodash.debounce")):"function"==typeof define&&define.amd?define("collapsible",["jump.js","lodash.debounce"],e):"object"==typeof exports?exports.collapsible=e(require("jump.js"),require("lodash.debounce")):t.collapsible=e(t["jump.js"],t["lodash.debounce"])}(this,function(t,e){return function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=n(1),l=a(o),u=n(2),c=a(u),d=n(3),h=a(d),f=n(4),p=a(f);n(5);var v=function(){function t(e){var n=this;i(this,t),this.setOptions(e),this.wrappers=l.default.getNodes("."+this.options.wrapperClass),this.content=l.default.getNodes("."+this.options.contentClass),this.headers=l.default.getNodes("."+this.options.headerClass),this.wrappers.length&&setTimeout(function(){n.calculateStyles(),n.setListeners(),n.handleUrlHash(),n.setAccesibility(),n.addTransition(),n.transitionTime=n.getTransitionDuration()},800)}return r(t,[{key:"setOptions",value:function(t){var e={wrapperClass:"js-collapsible",transitionClass:"c-collapsible--has-transition",panelClass:"c-collapsible__panel",activePanelClass:"c-collapsible__panel--is-active",headerClass:"c-collapsible__header",titleClass:"c-collapsible__title",contentClass:"c-collapsible__content",contentCanvasClass:"c-collapsible__content-canvas",transition:!0,smoothScrolling:"mobile",smoothScrollingSpeed:300,closeOthers:!0};this.options=s({},e,t)}},{key:"removeTransition",value:function(){for(var t=0;t<this.wrappers.length;t+=1)this.options.transition&&l.default.removeClass(this.wrappers[t],this.options.transitionClass)}},{key:"addTransition",value:function(){for(var t=0;t<this.wrappers.length;t+=1)this.options.transition&&l.default.addClass(this.wrappers[t],this.options.transitionClass)}},{key:"getTransitionDuration",value:function(){var t=l.default.getStyle(this.content[0],"transition-duration");if("0s"===t)throw new Error("Please set transition-duration on the '."+this.options.contentClass+'\' in your css or set "transition" option to false');return 1e3*t.replace("s","")}},{key:"setListeners",value:function(){for(var t=this,e=0;e<this.wrappers.length;e+=1)this.wrappers[e].addEventListener("click",function(e){return t.handleItemClick(e)});window.addEventListener("resize",(0,p.default)(function(){return t.handleResize()},300))}},{key:"handleItemClick",value:function(t){var e=t.target;t.preventDefault(),(l.default.hasClass(e,this.options.headerClass)||l.default.hasAncestor(e,this.options.headerClass))&&(this.activePanel=l.default.findAncestor(e,this.options.panelClass),this.toggle())}},{key:"handleUrlHash",value:function(){this.activePanel=c.default.getCurrentTabNodeFromUrlHash(),this.activePanel&&this.toggle()}},{key:"handleResize",value:function(){this.ww!==l.default.windowWidth()&&(this.recalculateHeights(),this.activePanel&&l.default.show(this.activePanel.data.content,this.activePanel.data),this.ww=l.default.windowWidth())}},{key:"setAccesibility",value:function(){for(var t=0;t<this.headers.length;t+=1){var e=this.headers[t],n=e.nextElementSibling,a=e.getAttribute("id"),i=a+"-content";l.default.setAttr(e,"aria-controls",i),l.default.setAttr(e,"aria-expanded",!1),l.default.setAttr(e,"href","#"+i),l.default.setAttr(n,"id",i),l.default.setAttr(n,"aria-labelledby",a)}}},{key:"calculateStyles",value:function(){for(var t=0;t<this.wrappers.length;t+=1){var e=l.default.getNodes("."+this.options.panelClass);if(!e.length)throw new Error("Please provide a panel wrapper (default: "+this.options.panelClass+") for each accordion item");for(var n=0;n<e.length;n+=1){var a=e[n],i=e[n].querySelector("."+this.options.contentClass),s=e[n].querySelector("."+this.options.contentCanvasClass),r=e[n].querySelector("."+this.options.headerClass);l.default.saveData(a,{height:l.default.getHeight(s),content:i,header:r})}}}},{key:"recalculateHeights",value:function(){for(var t=0;t<this.wrappers.length;t+=1)for(var e=l.default.getNodes("."+this.options.panelClass),n=0;n<e.length;n+=1){var a=e[n],i=e[n].querySelector("."+this.options.contentCanvasClass);a.data.height=l.default.getHeight(i)}}},{key:"toggle",value:function(){var t=this,e=l.default.siblings(this.activePanel,this.options.panelClass),n=[],a=[];if(e)for(var i=0;i<e.length;i+=1)n.push(e[i].data.content),a.push(e[i].data.header);if(this.activePanel.data.isOpen)l.default.hide(this.activePanel.data.content),l.default.removeClass(this.activePanel,this.options.activePanelClass),l.default.setAttr(this.activePanel.data.header,"aria-expanded",!1),c.default.removeUrlHash(),this.activePanel.data.isOpen=!1;else{if(l.default.show(this.activePanel.data.content,this.activePanel.data),l.default.addClass(this.activePanel,this.options.activePanelClass),l.default.setAttr(this.activePanel.data.header,"aria-expanded",!0),this.options.closeOthers&&e.length){l.default.removeClass(e,this.options.activePanelClass),l.default.setAttr(a,"aria-expanded",!1),l.default.hide(n);for(var s=0;s<e.length;s+=1)e[s].data.isOpen=!1}c.default.updateUrlHash(this.activePanel.data.header);var r=this.options.smoothScrolling;"mobile"!==r&&!0!==r||l.default.isMobile().any()&&setTimeout(function(){(0,h.default)(t.activePanel,{duration:t.options.smoothScrollingSpeed})},this.transitionTime+5),this.activePanel.data.isOpen=!0}}}]),t}();window.Collapsible=v,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getNodes:function(t){return[].slice.call(document.querySelectorAll(t))},siblings:function(t,e){var n=this;return[].filter.call(t.parentNode.children,function(a){return a!==t&&n.hasClass(a,e)})},hasAncestor:function(t,e){for(;(t=t.parentNode)&&!t.classList.contains(e);)if("BODY"===t.nodeName)return!1;return!0},findAncestor:function(t,e){for(;(t=t.parentNode)&&!t.classList.contains(e);)if("BODY"===t.nodeName)return!1;return t},addClass:function(t,e){if(t.length)for(var n=0;n<t.length;n+=1)t[n].classList.add(e);else t.classList.add(e)},removeClass:function(t,e){if(t.length)for(var n=0;n<t.length;n+=1)t[n].classList.remove(e);else t.classList.remove(e)},hasClass:function(t,e){return t.classList.contains(e)},isMobile:function(){return{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}},windowWidth:function(){var t=window,e=document,n=e.documentElement,a=e.getElementsByTagName("body")[0];return t.innerWidth||n.clientWidth||a.clientWidth},saveData:function(t,e){t.data=e},getStyle:function(t,e){return window.getComputedStyle(t).getPropertyValue(e)},getHeight:function(t){return parseInt(this.getStyle(t,"padding-top"))+parseInt(this.getStyle(t,"padding-bottom"))+parseInt(this.getStyle(t,"height"))+"px"},setAttr:function(t,e,n){if(t.length)for(var a=0;a<t.length;a+=1)t[a].setAttribute(e,n);else t.setAttribute(e,n)},hide:function(t){if(t.length)for(var e=0;e<t.length;e+=1){var n=t[e].style;n.maxHeight=0}else{t.style.maxHeight=0}},show:function(t,e){t.style.maxHeight=e.height}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getCurrentTabNodeFromUrlHash:function(){var t=window.location.hash,e=void 0,n=void 0;return t&&(e=t.replace("#",""),n=document.getElementById(e)),n?n.parentNode:null},updateUrlHash:function(t){var e=t.getAttribute("id");history.replaceState(null,null,"#"+e)},removeUrlHash:function(){history.replaceState({},document.title,".")}}},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){}])});